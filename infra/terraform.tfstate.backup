{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 56,
  "lineage": "fbf57293-340c-9ba5-4541-44b0e356c5df",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "app_deployment",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/techchallenge/deployments/techchallenge-app-deployment",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "c27813a4c978bd469f1e48630bd8b3d0f2577404325eef04c53e2304e8c6d289",
            "live_uid": "4663369d-183d-4a03-9613-bf7973a764bb",
            "name": "techchallenge-app-deployment",
            "namespace": "techchallenge",
            "override_namespace": "techchallenge",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "4663369d-183d-4a03-9613-bf7973a764bb",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: techchallenge-app-deployment\r\n  namespace: techchallenge\r\n  labels:\r\n    app.kubernetes.io/name: techchallenge-app\r\n    app.kubernetes.io/version: \"0.0.1\"\r\n    app.kubernetes.io/component: web\r\n    app.kubernetes.io/part-of: techchallenge\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      app.kubernetes.io/name: techchallenge-app\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app.kubernetes.io/name: techchallenge-app\r\n        app.kubernetes.io/version: \"0.0.1\"\r\n        app.kubernetes.io/component: web\r\n        app.kubernetes.io/part-of: techchallenge\r\n    spec:\r\n      securityContext:\r\n        runAsNonRoot: true\r\n        runAsUser: 1000\r\n        runAsGroup: 1000\r\n      containers:\r\n        - name: techchallenge-app\r\n          image: 747132/techchallenge-12soat:latest\r\n          securityContext:\r\n            allowPrivilegeEscalation: false\r\n            capabilities:\r\n              drop:\r\n                - \"ALL\"\r\n          ports:\r\n            - containerPort: 8080\r\n          readinessProbe:\r\n            httpGet:\r\n              path: /actuator/health/readiness\r\n              port: 8080\r\n              httpHeaders:\r\n                - name: Accept\r\n                  value: application/json\r\n            initialDelaySeconds: 60\r\n            periodSeconds: 10\r\n          livenessProbe:\r\n            httpGet:\r\n              path: /actuator/health/liveness\r\n              port: 8080\r\n              httpHeaders:\r\n                - name: Accept\r\n                  value: application/json\r\n            initialDelaySeconds: 60\r\n            periodSeconds: 15\r\n          env:\r\n            # Mapeia os secrets para vari√°veis de ambiente que o Spring Boot pode usar\r\n            - name: SPRING_DATASOURCE_URL\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: techchallenge-secrets\r\n                  key: DB_URL\r\n            - name: SPRING_DATASOURCE_USERNAME\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: techchallenge-secrets\r\n                  key: DB_USR\r\n            - name: SPRING_DATASOURCE_PASSWORD\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: techchallenge-secrets\r\n                  key: DB_PWD\r\n          resources:\r\n            requests:\r\n              cpu: \"250m\"\r\n              memory: \"1Gi\"\r\n            limits:\r\n              cpu: \"500m\"\r\n              memory: \"1.5Gi\"\r\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app.kubernetes.io/component: web\n    app.kubernetes.io/name: techchallenge-app\n    app.kubernetes.io/part-of: techchallenge\n    app.kubernetes.io/version: 0.0.1\n  name: techchallenge-app-deployment\n  namespace: techchallenge\nspec:\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: techchallenge-app\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/component: web\n        app.kubernetes.io/name: techchallenge-app\n        app.kubernetes.io/part-of: techchallenge\n        app.kubernetes.io/version: 0.0.1\n    spec:\n      containers:\n      - env:\n        - name: SPRING_DATASOURCE_URL\n          valueFrom:\n            secretKeyRef:\n              key: DB_URL\n              name: techchallenge-secrets\n        - name: SPRING_DATASOURCE_USERNAME\n          valueFrom:\n            secretKeyRef:\n              key: DB_USR\n              name: techchallenge-secrets\n        - name: SPRING_DATASOURCE_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              key: DB_PWD\n              name: techchallenge-secrets\n        image: 747132/techchallenge-12soat:latest\n        livenessProbe:\n          httpGet:\n            httpHeaders:\n            - name: Accept\n              value: application/json\n            path: /actuator/health/liveness\n            port: 8080\n          initialDelaySeconds: 60\n          periodSeconds: 15\n        name: techchallenge-app\n        ports:\n        - containerPort: 8080\n        readinessProbe:\n          httpGet:\n            httpHeaders:\n            - name: Accept\n              value: application/json\n            path: /actuator/health/readiness\n            port: 8080\n          initialDelaySeconds: 60\n          periodSeconds: 10\n        resources:\n          limits:\n            cpu: 500m\n            memory: 1.5Gi\n          requests:\n            cpu: 250m\n            memory: 1Gi\n        securityContext:\n          allowPrivilegeEscalation: false\n          capabilities:\n            drop:\n            - ALL\n      securityContext:\n        runAsGroup: 1000\n        runAsNonRoot: true\n        runAsUser: 1000\n",
            "yaml_incluster": "c27813a4c978bd469f1e48630bd8b3d0f2577404325eef04c53e2304e8c6d289"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "kubectl_manifest.configmap",
            "kubectl_manifest.postgres_deployment",
            "kubectl_manifest.secrets",
            "kubernetes_namespace_v1.techchallenge_ns"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "app_hpa",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "autoscaling/v2",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/autoscaling/v2/namespaces/techchallenge/horizontalpodautoscalers/techchallenge-hpa",
            "ignore_fields": null,
            "kind": "HorizontalPodAutoscaler",
            "live_manifest_incluster": "f3f803c362b2885a7585c903f6979a18e9631994d55d99e59b295da7ddc9f473",
            "live_uid": "b3e720f9-2835-449e-b34d-3855412a6135",
            "name": "techchallenge-hpa",
            "namespace": "techchallenge",
            "override_namespace": "techchallenge",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "b3e720f9-2835-449e-b34d-3855412a6135",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: autoscaling/v2\r\nkind: HorizontalPodAutoscaler\r\nmetadata:\r\n  namespace: techchallenge\r\n  name: techchallenge-hpa\r\n  labels:\r\n    app.kubernetes.io/name: techchallenge-app\r\n    app.kubernetes.io/part-of: techchallenge\r\nspec:\r\n  scaleTargetRef:\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    name: techchallenge-app-deployment\r\n  minReplicas: 1\r\n  maxReplicas: 5 # Max num of pods\r\n  metrics:\r\n    - type: Resource\r\n      resource:\r\n        name: cpu\r\n        target:\r\n          type: Utilization\r\n          averageUtilization: 80 # When CPU average usage hits 80% triggers the scalability\r\n    - type: Resource\r\n      resource:\r\n        name: memory\r\n        target:\r\n          type: Utilization\r\n          averageUtilization: 80 # When memory usage hits 80% triggers the scalability\r\n",
            "yaml_body_parsed": "apiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  labels:\n    app.kubernetes.io/name: techchallenge-app\n    app.kubernetes.io/part-of: techchallenge\n  name: techchallenge-hpa\n  namespace: techchallenge\nspec:\n  maxReplicas: 5\n  metrics:\n  - resource:\n      name: cpu\n      target:\n        averageUtilization: 80\n        type: Utilization\n    type: Resource\n  - resource:\n      name: memory\n      target:\n        averageUtilization: 80\n        type: Utilization\n    type: Resource\n  minReplicas: 1\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: techchallenge-app-deployment\n",
            "yaml_incluster": "f3f803c362b2885a7585c903f6979a18e9631994d55d99e59b295da7ddc9f473"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "kubectl_manifest.app_deployment",
            "kubectl_manifest.configmap",
            "kubectl_manifest.postgres_deployment",
            "kubectl_manifest.secrets",
            "kubernetes_namespace_v1.techchallenge_ns"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "app_service",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/techchallenge/services/techchallenge-service",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "e815a2c1c0c4a625c6b98f387a3a512d52957170c0acd1f451a3b0650611681f",
            "live_uid": "8d44026e-730c-4fb1-bb56-e389b3561363",
            "name": "techchallenge-service",
            "namespace": "techchallenge",
            "override_namespace": "techchallenge",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "8d44026e-730c-4fb1-bb56-e389b3561363",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: techchallenge-service\r\n  namespace: techchallenge\r\n  labels:\r\n    app.kubernetes.io/name: techchallenge-app\r\n    app.kubernetes.io/part-of: techchallenge\r\nspec:\r\n  type: NodePort\r\n  selector:\r\n    app.kubernetes.io/name: techchallenge-app\r\n  ports:\r\n    - protocol: TCP\r\n      port: 8080\r\n      targetPort: 8080",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    app.kubernetes.io/name: techchallenge-app\n    app.kubernetes.io/part-of: techchallenge\n  name: techchallenge-service\n  namespace: techchallenge\nspec:\n  ports:\n  - port: 8080\n    protocol: TCP\n    targetPort: 8080\n  selector:\n    app.kubernetes.io/name: techchallenge-app\n  type: NodePort\n",
            "yaml_incluster": "e815a2c1c0c4a625c6b98f387a3a512d52957170c0acd1f451a3b0650611681f"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "kubectl_manifest.app_deployment",
            "kubectl_manifest.configmap",
            "kubectl_manifest.postgres_deployment",
            "kubectl_manifest.secrets",
            "kubernetes_namespace_v1.techchallenge_ns"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "configmap",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/techchallenge/configmaps/techchallenge-configmap",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "f8a47f293303be2e31b12db8ad6f27f64c68a80a3b154cd5da4df9821fe61344",
            "live_uid": "fb9e0b48-21ed-48ea-ae7a-5fa063bfb709",
            "name": "techchallenge-configmap",
            "namespace": "techchallenge",
            "override_namespace": "techchallenge",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "fb9e0b48-21ed-48ea-ae7a-5fa063bfb709",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: ConfigMap\r\nmetadata:\r\n  namespace: techchallenge\r\n  name: techchallenge-configmap\r\n  labels:\r\n    app.kubernetes.io/name: techchallenge-app\r\n    app.kubernetes.io/part-of: techchallenge\r\ndata:\r\n  application.properties: |\r\n    server.port=8080\r\n    spring.application.name=techchallenge-app\r\n    spring.liquibase.change-log=classpath:liquibase/liquibase-changelog.yml\r\n    spring.datasource.url=jdbc:postgresql://postgres-service:5432/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=password",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  application.properties: |-\n    server.port=8080\n    spring.application.name=techchallenge-app\n    spring.liquibase.change-log=classpath:liquibase/liquibase-changelog.yml\n    spring.datasource.url=jdbc:postgresql://postgres-service:5432/postgres\n    spring.datasource.username=postgres\n    spring.datasource.password=password\nkind: ConfigMap\nmetadata:\n  labels:\n    app.kubernetes.io/name: techchallenge-app\n    app.kubernetes.io/part-of: techchallenge\n  name: techchallenge-configmap\n  namespace: techchallenge\n",
            "yaml_incluster": "f8a47f293303be2e31b12db8ad6f27f64c68a80a3b154cd5da4df9821fe61344"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "kubernetes_namespace_v1.techchallenge_ns"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "ingress",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "networking.k8s.io/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/networking.k8s.io/v1/namespaces/techchallenge/ingresses/techchallenge-ingress",
            "ignore_fields": null,
            "kind": "Ingress",
            "live_manifest_incluster": "bcf35b6d1b1fab6d5ee781d33b9ba0b8918fca26267eeb4412ded8633c1f11ab",
            "live_uid": "20b4be26-2535-4560-adf6-3b610d593842",
            "name": "techchallenge-ingress",
            "namespace": "techchallenge",
            "override_namespace": "techchallenge",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "20b4be26-2535-4560-adf6-3b610d593842",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: networking.k8s.io/v1\r\nkind: Ingress\r\nmetadata:\r\n  name: techchallenge-ingress\r\n  namespace: techchallenge\r\nspec:\r\n  rules:\r\n  - http:\r\n      paths:\r\n      - path: /\r\n        pathType: Prefix\r\n        backend:\r\n          service:\r\n            name: techchallenge-service\r\n            port:\r\n              number: 8080\r\n",
            "yaml_body_parsed": "apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: techchallenge-ingress\n  namespace: techchallenge\nspec:\n  rules:\n  - http:\n      paths:\n      - backend:\n          service:\n            name: techchallenge-service\n            port:\n              number: 8080\n        path: /\n        pathType: Prefix\n",
            "yaml_incluster": "bcf35b6d1b1fab6d5ee781d33b9ba0b8918fca26267eeb4412ded8633c1f11ab"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "kubectl_manifest.app_deployment",
            "kubectl_manifest.app_service",
            "kubectl_manifest.configmap",
            "kubectl_manifest.postgres_deployment",
            "kubectl_manifest.secrets",
            "kubernetes_namespace_v1.techchallenge_ns"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "postgres_deployment",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/techchallenge/deployments/postgres-deployment",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "87f4fdb8ba39df9b5bfc9a2777fb122fd8ac056f74540fc26d6a09ba2477aba3",
            "live_uid": "963ac2ad-f3b2-47d1-8b18-1609eda8af6f",
            "name": "postgres-deployment",
            "namespace": "techchallenge",
            "override_namespace": "techchallenge",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "963ac2ad-f3b2-47d1-8b18-1609eda8af6f",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: postgres-deployment\r\n  namespace: techchallenge\r\n  labels:\r\n    app.kubernetes.io/part-of: techchallenge\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app.kubernetes.io/name: postgres\r\n      app.kubernetes.io/instance: postgres-v1\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app.kubernetes.io/name: postgres\r\n        app.kubernetes.io/instance: postgres-v1\r\n        app.kubernetes.io/component: database\r\n        app.kubernetes.io/part-of: techchallenge\r\n    spec:\r\n      containers:\r\n        - name: postgres\r\n          image: postgres:13\r\n          ports:\r\n            - containerPort: 5432\r\n          env:\r\n            - name: POSTGRES_DB\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: techchallenge-secrets\r\n                  key: DB_NAME\r\n            - name: POSTGRES_USER\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: techchallenge-secrets\r\n                  key: DB_USR\r\n            - name: POSTGRES_PASSWORD\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: techchallenge-secrets\r\n                  key: DB_PWD\r\n          resources:\r\n            requests:\r\n              cpu: \"500m\"\r\n              memory: \"1Gi\"\r\n            limits:\r\n              cpu: \"500m\"\r\n              memory: \"1Gi\"\r\n          volumeMounts:\r\n            - name: postgres-storage\r\n              mountPath: /var/lib/postgresql/data\r\n      volumes:\r\n        - name: postgres-storage\r\n          emptyDir: {}",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app.kubernetes.io/part-of: techchallenge\n  name: postgres-deployment\n  namespace: techchallenge\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app.kubernetes.io/instance: postgres-v1\n      app.kubernetes.io/name: postgres\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/component: database\n        app.kubernetes.io/instance: postgres-v1\n        app.kubernetes.io/name: postgres\n        app.kubernetes.io/part-of: techchallenge\n    spec:\n      containers:\n      - env:\n        - name: POSTGRES_DB\n          valueFrom:\n            secretKeyRef:\n              key: DB_NAME\n              name: techchallenge-secrets\n        - name: POSTGRES_USER\n          valueFrom:\n            secretKeyRef:\n              key: DB_USR\n              name: techchallenge-secrets\n        - name: POSTGRES_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              key: DB_PWD\n              name: techchallenge-secrets\n        image: postgres:13\n        name: postgres\n        ports:\n        - containerPort: 5432\n        resources:\n          limits:\n            cpu: 500m\n            memory: 1Gi\n          requests:\n            cpu: 500m\n            memory: 1Gi\n        volumeMounts:\n        - mountPath: /var/lib/postgresql/data\n          name: postgres-storage\n      volumes:\n      - emptyDir: {}\n        name: postgres-storage\n",
            "yaml_incluster": "87f4fdb8ba39df9b5bfc9a2777fb122fd8ac056f74540fc26d6a09ba2477aba3"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "kubernetes_namespace_v1.techchallenge_ns"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "postgres_service",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/techchallenge/services/postgres-service",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "306881b3c1e19c44bae8bcd1053509551138521063f81ea1d0ca6c353defe026",
            "live_uid": "34bf3eab-1ed9-4674-afbc-9cc8b0e767f5",
            "name": "postgres-service",
            "namespace": "techchallenge",
            "override_namespace": "techchallenge",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "34bf3eab-1ed9-4674-afbc-9cc8b0e767f5",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: postgres-service\r\n  namespace: techchallenge\r\n  labels:\r\n    app.kubernetes.io/name: postgres\r\n    app.kubernetes.io/instance: postgres-v1\r\n    app.kubernetes.io/part-of: techchallenge\r\nspec:\r\n  type: ClusterIP\r\n  selector:\r\n    app.kubernetes.io/name: postgres\r\n    app.kubernetes.io/instance: postgres-v1\r\n  ports:\r\n    - protocol: TCP\r\n      port: 5432\r\n      targetPort: 5432",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    app.kubernetes.io/instance: postgres-v1\n    app.kubernetes.io/name: postgres\n    app.kubernetes.io/part-of: techchallenge\n  name: postgres-service\n  namespace: techchallenge\nspec:\n  ports:\n  - port: 5432\n    protocol: TCP\n    targetPort: 5432\n  selector:\n    app.kubernetes.io/instance: postgres-v1\n    app.kubernetes.io/name: postgres\n  type: ClusterIP\n",
            "yaml_incluster": "306881b3c1e19c44bae8bcd1053509551138521063f81ea1d0ca6c353defe026"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "kubernetes_namespace_v1.techchallenge_ns"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "secrets",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/techchallenge/secrets/techchallenge-secrets",
            "ignore_fields": null,
            "kind": "Secret",
            "live_manifest_incluster": "2870a24c4e79a32232edd09f5401e33a121ece845122d55ffdebaf4ec74beb77",
            "live_uid": "f71e1e28-7168-4a60-ae72-94ac61da47ea",
            "name": "techchallenge-secrets",
            "namespace": "techchallenge",
            "override_namespace": "techchallenge",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "f71e1e28-7168-4a60-ae72-94ac61da47ea",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: Secret\r\nmetadata:\r\n  name: techchallenge-secrets\r\n  namespace: techchallenge\r\n  labels:\r\n    app.kubernetes.io/part-of: techchallenge\r\ntype: Opaque\r\nstringData:\r\n  DB_NAME: \"postgres\"\r\n  DB_USR: \"postgres\"\r\n  DB_PWD: \"password\"\r\n  DB_URL: \"jdbc:postgresql://postgres-service:5432/postgres\"\r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Secret\nmetadata:\n  labels:\n    app.kubernetes.io/part-of: techchallenge\n  name: techchallenge-secrets\n  namespace: techchallenge\nstringData:\n  DB_NAME: postgres\n  DB_PWD: password\n  DB_URL: jdbc:postgresql://postgres-service:5432/postgres\n  DB_USR: postgres\ntype: Opaque\n",
            "yaml_incluster": "2870a24c4e79a32232edd09f5401e33a121ece845122d55ffdebaf4ec74beb77"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "kubernetes_namespace_v1.techchallenge_ns"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_namespace_v1",
      "name": "techchallenge_ns",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "techchallenge",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "techchallenge",
                "resource_version": "8093",
                "uid": "987c3cf0-b8b3-481e-9a80-39152c6a97c0"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "techchallenge"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "minikube_starter",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1651643979879687089",
            "triggers": {
              "always_run": "2025-10-14T23:56:23Z"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    }
  ],
  "check_results": null
}
